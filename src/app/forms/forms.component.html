<div class="filter">
  <h3>Фильтр</h3>
<div class="container">
  <mat-form-field appearance="outline">
      <mat-label>Логин</mat-label>
      <input #name1 matInput (keyup)="onKey2($event)">
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>E-mail</mat-label>
      <input #name2 matInput (keyup)="onKey($event)">
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>Телефон</mat-label>
      <input matInput (keyup)="onKey3($event)" >
    </mat-form-field>
    <mat-form-field>
      <mat-label>Роль</mat-label>
      <mat-select (selectionChange)="onKey4($event)">
        <mat-option value="ACTIVE">Пользователь</mat-option>
        <mat-option value="NOTACTIVE">Администратор</mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field appearance="fill">
      <mat-label>Дата создания</mat-label>
      <input matInput (keyup)="onKey5($event)" [matDatepicker]="picker"
      (dateInput)="addEvent1('input', $event)" (dateChange)="addEvent1('input', $event)">
      <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
    </mat-form-field>
    <mat-form-field appearance="fill">
      <mat-label>Дата изменения</mat-label>
      <input matInput (keyup)="onKey6($event)" [matDatepicker]="picker1"
      (dateInput)="addEvent('input', $event)" (dateChange)="addEvent('input', $event)">
      <mat-datepicker-toggle matIconSuffix [for]="picker1"></mat-datepicker-toggle>
      <mat-datepicker #picker1></mat-datepicker>
    </mat-form-field>
    <mat-form-field>
    <mat-label>Статус</mat-label>
    <mat-select (selectionChange)="onKey1($event)">
      <mat-option value="one">Активен</mat-option>
      <mat-option value="two">Заблокирован</mat-option>
    </mat-select>
    </mat-form-field>
</div>
<div class="example-button-row">
  <button (click)="accept()" style="background-color: red;" >Применить</button>
  <button  mat-raised-button>Отмена</button>
  <button (click)="clear()" mat-raised-button>Сбросить</button>
</div>
</div>


<div class="table1">
  <table  mat-table [dataSource]="dataSource" class="mat-elevation-z8">
    <ng-container matColumnDef="id">
      <th mat-header-cell *matHeaderCellDef>Действие</th>
      <td mat-cell *matCellDef="let element"><button><mat-icon>more_horiz</mat-icon></button></td>
    </ng-container>
    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef><mat-checkbox></mat-checkbox>Логин</th>
      <td mat-cell *matCellDef="let element"><mat-checkbox></mat-checkbox> {{element.name}} </td>
    </ng-container>
    <ng-container matColumnDef="email">
      <th  mat-header-cell *matHeaderCellDef>E-mail </th>
      <td mat-cell *matCellDef="let element"> {{element.email}} </td>
    </ng-container>
    <ng-container matColumnDef="phone">
      <th mat-header-cell *matHeaderCellDef>Телефон</th>
      <td mat-cell *matCellDef="let element"> {{element.phone}} </td>
    </ng-container>
    <ng-container matColumnDef="is_admin">
      <th mat-header-cell *matHeaderCellDef>Роли</th>
      <td mat-cell *matCellDef="let element"> <div element.is_admin></div>
        <div *ngIf="element.is_admin==true">
          <p>Пользователь</p>
        </div>
        <div *ngIf="element.is_admin==false">
          <p>Администратор</p>
        </div> </td>
    </ng-container>
    <ng-container matColumnDef="create_at">
      <th mat-header-cell *matHeaderCellDef>Дата создания</th>
      <td mat-cell *matCellDef="let element"> {{element.create_at}} </td>
    </ng-container>
    <ng-container matColumnDef="update_at">
      <th mat-header-cell *matHeaderCellDef>Дата изменения</th>
      <td mat-cell *matCellDef="let element"> {{element.update_at}} </td>
    </ng-container>
    <ng-container matColumnDef="status">
      <th mat-header-cell *matHeaderCellDef>Статус</th>
      <td mat-cell *matCellDef="let element"> <div element.status></div>
      <div *ngIf="element.status==ACTIVE">
        <p style="color: green;">Активен</p>
      </div>
      <div *ngIf="element.status==NOTACTIVE">
        <p style="color:red">Заблокирован</p>
      </div>
       </td>
    </ng-container>
    <ng-container matColumnDef="is_ecp">
      <th mat-header-cell *matHeaderCellDef>Наличие ЭП</th>
      <td mat-cell *matCellDef="let element"> <div element.is_ecp></div>
        <div *ngIf="element.is_ecp==false">
        <mat-icon style="color: red;">cancel</mat-icon></div>
        <div *ngIf="element.is_ecp==true">
        <mat-icon style="color: green;">check_circle</mat-icon></div>
      </td>
    </ng-container>  
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="highlight(row)" [ngClass]="{'highlightTableColor': rowSelected == row.id}"></tr>
  </table>
  <mat-paginator style="display:-webkit-inline-box; " [length]="100"
  [pageSize]="10"
  [pageSizeOptions]="[5, 10, 25, 100]"
  aria-label="Select page">
</mat-paginator>
</div>

